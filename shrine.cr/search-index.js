crystal_doc_search_index_callback({"repository_name":"github.com/jetrockets/shrine.cr","body":"[![Build Status](https://travis-ci.org/jetrockets/shrine.cr.svg?branch=master)](https://travis-ci.org/jetrockets/shrine.cr)\n\n# shrine.cr\n\nShrine is a toolkit for file attachments in Crystal applications. Heavily inspired by [Shrine for Ruby](https://shrinerb.com).\n\n## Documentation\n\n[https://jetrockets.github.io/shrine.cr](https://jetrockets.github.io/shrine.cr)\n\n## Installation\n\n1. Add the dependency to your `shard.yml`:\n\n   ```yaml\n   dependencies:\n     shrine.cr:\n       github: jetrockets/shrine.cr\n   ```\n\n2. Run `shards install`\n\n## Usage\n\n```crystal\nrequire \"shrine.cr\"\n```\n\nShrine.cr is under heavy development!\n\nFirst of all you should configure `Shrine`.\n\n``` crystal\nShrine.configure do |config|\n  config.storages[\"cache\"] = Storage::FileSystem.new(\"uploads\", prefix: \"cache\")\n  config.storages[\"store\"] = Storage::FileSystem.new(\"uploads\")\nend\n```\n\nNow you can use `Shrine` directly to upload your files.\n\n``` crystal\nShrine.upload(file, :store)\n```\n\n`Shrine.upload` method supports additional argument just like Shrine.rb. For example we want our file to have a custom filename.\n\n``` crystal\nShrine.upload(file, :store, metadata: { filename: \"foo.bar\" })\n```\n\n### Custom uploaders\n\nTo implement custom uploader class just inherit it from `Shrine`. You can override `Shrine` methods to implement custom logic. Here is an example how to create a custom file location.\n\n``` crystal\nclass FileImport::AssetUploader < Shrine\n  def generate_location(io : IO | UploadedFile, metadata, context, **options)\n    name = super(io, metadata, **options)\n\n    File.join(\"imports\", context[:model].id.to_s, name)\n  end\nend\n\nFileImport::AssetUploader.upload(file, :store, context: { model: YOUR_ORM_MODEL } })\n```\n\n### ORM usage example\n\nCurrently ORM adapters are not implmented.\n\n#### Granite.\n\n``` crystal\nclass FileImport < Granite::Base\n  connection pg\n  table file_imports\n\n  column id : Int64, primary: true\n  column asset_data : Shrine::UploadedFile, converter: Granite::Converters::Json(Shrine::UploadedFile, JSON::Any)\n\n  after_save do\n    if @asset_changed && @asset_data\n      @asset_data = FileImport::AssetUploader.upload(@asset_data.not_nil!, :store, move: true, context: { model: self })\n      @asset_changed = false\n\n      save!\n    end\n  end\n\n  def asset=(upload : Amber::Router::File)\n    @asset_data = FileImport::AssetUploader.upload(upload.file, :cache, metadata: { filename: upload.filename })\n    @asset_changed = true\n  end\nend\n\n```\n\n#### Jennifer\n\n``` crystal\nclass FileImport < Jennifer::Model::Base\n  @asset_changed : Bool | Nil\n\n  with_timestamps\n\n  mapping(\n    id: Primary32,\n    asset_data: JSON::Any?,\n    created_at: Time?,\n    updated_at: Time?\n  )\n\n  after_save :move_to_store\n\n  def asset=(upload : Amber::Router::File)\n    self.asset_data = JSON.parse(FileImport::AssetUploader.upload(upload.file, :cache, metadata: { filename: upload.filename }).to_json)\n    asset_changed! if asset_data\n  end\n\n  def asset\n    Shrine::UploadedFile.from_json(asset_data.not_nil!.to_json) if asset_data\n  end\n\n  def asset_changed?\n    @asset_changed || false\n  end\n\n  private def asset_changed!\n    @asset_changed = true\n  end\n\n  private def move_to_store\n    if asset_changed?\n      self.asset_data = JSON.parse(FileImport::AssetUploader.upload(asset.not_nil!, :store, move: true, context: { model: self }).to_json)\n      @asset_changed = false\n      save!\n    end\n  end\nend\n\n```\n\n\n### Feature Progress\n\nIn no particular order, features that have been implemented and are planned.\nItems not marked as completed may have partial implementations.\n\n- [X] Shrine\n- [X] Shrine::UploadedFile\n    - [X] #original_filename\n    - [X] #extension\n    - [X] #size\n    - [X] #mime_type\n    - [ ] #[]\n    - [ ] #read\n    - [ ] #eof?\n    - [ ] #rewind\n    - [ ] #close\n    - [ ] #url\n    - [ ] #exists?\n    - [X] #open\n    - [X] #download\n    - [X] #stream\n    - [ ] #replace\n    - [ ] #delete\n- [ ] Shrine::Attacher\n- [ ] Shrine::Attachment\n- [ ] Shrine::Storage\n    - [X] Shrine::Storage::Memory\n    - [X] Shrine::Storage::FileSystem\n    - [ ] Shrine::Storage::S3\n- [ ] Uploaders\n    - [X] Custom uploaders\n    - [ ] Derivatives\n- [ ] ORM adapters\n    - [ ] `Granite` [https://github.com/amberframework/granite](https://github.com/amberframework/granite)\n    - [ ] `crecto` [https://github.com/Crecto/crecto](https://github.com/Crecto/crecto)\n    - [ ] `jennifer.cr` [https://github.com/imdrasil/jennifer.cr](https://github.com/imdrasil/jennifer.cr)\n- [ ] Plugins\n- [ ] Background processing\n\n\n## Contributing\n\n1. Fork it (<https://github.com/your-github-user/shrine.cr/fork>)\n2. Create your feature branch (`git checkout -b my-new-feature`)\n3. Commit your changes (`git commit -am 'Add some feature'`)\n4. Push to the branch (`git push origin my-new-feature`)\n5. Create a new Pull Request\n\n## Contributors\n\n- [Igor Alexandrov](https://github.com/igor-alexandrov) - creator and maintainer\n","program":{"html_id":"github.com/jetrockets/shrine.cr/toplevel","path":"toplevel.html","kind":"module","full_name":"Top Level Namespace","name":"Top Level Namespace","abstract":false,"superclass":null,"ancestors":[],"locations":[],"repository_name":"github.com/jetrockets/shrine.cr","program":true,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":null,"doc":null,"summary":null,"class_methods":[],"constructors":[],"instance_methods":[],"macros":[],"types":[{"html_id":"github.com/jetrockets/shrine.cr/Shrine","path":"Shrine.html","kind":"class","full_name":"Shrine","name":"Shrine","abstract":false,"superclass":{"html_id":"github.com/jetrockets/shrine.cr/Reference","kind":"class","full_name":"Reference","name":"Reference"},"ancestors":[{"html_id":"github.com/jetrockets/shrine.cr/Shrine/InstanceMethods","kind":"module","full_name":"Shrine::InstanceMethods","name":"InstanceMethods"},{"html_id":"github.com/jetrockets/shrine.cr/Habitat/SettingsHelpers","kind":"module","full_name":"Habitat::SettingsHelpers","name":"SettingsHelpers"},{"html_id":"github.com/jetrockets/shrine.cr/Habitat/TempConfig","kind":"module","full_name":"Habitat::TempConfig","name":"TempConfig"},{"html_id":"github.com/jetrockets/shrine.cr/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"github.com/jetrockets/shrine.cr/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"shrine/storage/base.cr","line_number":3,"url":"https://github.com/jetrockets/shrine.cr/blob/dfd7f05a9ee92ca80345bc9460ec44206407f41c/src/shrine/storage/base.cr"},{"filename":"shrine/storage/file_system.cr","line_number":3,"url":"https://github.com/jetrockets/shrine.cr/blob/dfd7f05a9ee92ca80345bc9460ec44206407f41c/src/shrine/storage/file_system.cr"},{"filename":"shrine/storage/memory.cr","line_number":3,"url":"https://github.com/jetrockets/shrine.cr/blob/dfd7f05a9ee92ca80345bc9460ec44206407f41c/src/shrine/storage/memory.cr"},{"filename":"shrine/uploaded_file.cr","line_number":5,"url":"https://github.com/jetrockets/shrine.cr/blob/dfd7f05a9ee92ca80345bc9460ec44206407f41c/src/shrine/uploaded_file.cr"},{"filename":"shrine.cr","line_number":8,"url":"https://github.com/jetrockets/shrine.cr/blob/dfd7f05a9ee92ca80345bc9460ec44206407f41c/src/shrine.cr"},{"filename":"shrine/plugins.cr","line_number":1,"url":"https://github.com/jetrockets/shrine.cr/blob/dfd7f05a9ee92ca80345bc9460ec44206407f41c/src/shrine/plugins.cr"}],"repository_name":"github.com/jetrockets/shrine.cr","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[{"id":"HABITAT_SETTINGS","name":"HABITAT_SETTINGS","value":"[{decl: storages : Hash(String, Storage::Base) = Hash(String, Storage::Base).new, example: nil}, {decl: log_level : Logger::Severity = Logger::WARN, example: nil}] of Nil","doc":null,"summary":null},{"id":"PLUGINS","name":"PLUGINS","value":"[] of Nil","doc":null,"summary":null}],"included_modules":[{"html_id":"github.com/jetrockets/shrine.cr/Habitat/SettingsHelpers","kind":"module","full_name":"Habitat::SettingsHelpers","name":"SettingsHelpers"},{"html_id":"github.com/jetrockets/shrine.cr/Habitat/TempConfig","kind":"module","full_name":"Habitat::TempConfig","name":"TempConfig"},{"html_id":"github.com/jetrockets/shrine.cr/Shrine/InstanceMethods","kind":"module","full_name":"Shrine::InstanceMethods","name":"InstanceMethods"}],"extended_modules":[{"html_id":"github.com/jetrockets/shrine.cr/Shrine/ClassMethods","kind":"module","full_name":"Shrine::ClassMethods","name":"ClassMethods"}],"subclasses":[],"including_types":[],"namespace":null,"doc":null,"summary":null,"class_methods":[{"id":"configure(&block)-class-method","html_id":"configure(&amp;block)-class-method","name":"configure","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"(&block)","source_link":"https://github.com/jetrockets/shrine.cr/blob/dfd7f05a9ee92ca80345bc9460ec44206407f41c/src/shrine.cr#L24","def":{"name":"configure","args":[],"double_splat":null,"splat_index":null,"yields":1,"block_arg":null,"return_type":"","visibility":"Public","body":"yield settings"}},{"id":"logger-class-method","html_id":"logger-class-method","name":"logger","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":null,"def":{"name":"logger","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@@logger"}},{"id":"logger=(logger)-class-method","html_id":"logger=(logger)-class-method","name":"logger=","doc":null,"summary":null,"abstract":false,"args":[{"name":"logger","doc":null,"default_value":"","external_name":"logger","restriction":""}],"args_string":"(logger)","source_link":null,"def":{"name":"logger=","args":[{"name":"logger","doc":null,"default_value":"","external_name":"logger","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@@logger = logger"}},{"id":"settings-class-method","html_id":"settings-class-method","name":"settings","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/jetrockets/shrine.cr/blob/dfd7f05a9ee92ca80345bc9460ec44206407f41c/src/shrine.cr#L24","def":{"name":"settings","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"Settings"}}],"constructors":[],"instance_methods":[{"id":"settings-instance-method","html_id":"settings-instance-method","name":"settings","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/jetrockets/shrine.cr/blob/dfd7f05a9ee92ca80345bc9460ec44206407f41c/src/shrine.cr#L24","def":{"name":"settings","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"Settings"}}],"macros":[{"id":"create_plugins_class_method-macro","html_id":"create_plugins_class_method-macro","name":"create_plugins_class_method","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/jetrockets/shrine.cr/blob/dfd7f05a9ee92ca80345bc9460ec44206407f41c/src/shrine.cr#L67","def":{"name":"create_plugins_class_method","args":[],"double_splat":null,"splat_index":null,"block_arg":null,"visibility":"Public","body":"    def self.plugins\n      \n{% if @type.constant(:PLUGINS) %}\n        {{ (@type.constant(:PLUGINS)).map(&.stringify) }}\n      {% end %}\n\n    \nend\n  \n"}},{"id":"load_plugin(plugin)-macro","html_id":"load_plugin(plugin)-macro","name":"load_plugin","doc":null,"summary":null,"abstract":false,"args":[{"name":"plugin","doc":null,"default_value":"","external_name":"plugin","restriction":""}],"args_string":"(plugin)","source_link":"https://github.com/jetrockets/shrine.cr/blob/dfd7f05a9ee92ca80345bc9460ec44206407f41c/src/shrine.cr#L37","def":{"name":"load_plugin","args":[{"name":"plugin","doc":null,"default_value":"","external_name":"plugin","restriction":""}],"double_splat":null,"splat_index":null,"block_arg":null,"visibility":"Public","body":"    \n{% plugin = plugin.resolve %}\n\n\n    \n{% if PLUGINS.includes?(plugin) %}\n      raise ArgumentError.new(\"Cannot load plugin {{ plugin.stringify }} to {{ @type }}. Plugin has already been initialized\")\n    {% else %}\n      {% PLUGINS << plugin %}\n    {% end %}\n\n\n    \n{% if plugin.constant(:InstanceMethods) %}\n      include {{ plugin.constant(:InstanceMethods) }}\n    {% end %}\n\n\n    \n{% if plugin.constant(:ClassMethods) %}\n      extend {{ plugin.constant(:ClassMethods) }}\n    {% end %}\n\n\n    \n{% if plugin.constant(:FileClassMethods) %}\n      class UploadedFile < Shrine::UploadedFile\n        extend {{ plugin.constant(:FileClassMethods) }}\n      end\n    {% end %}\n\n\n    \n{% if plugin.constant(:FileMethods) %}\n      class UploadedFile < Shrine::UploadedFile\n        include {{ plugin.constant(:FileMethods) }}\n      end\n    {% end %}\n\n  \n"}}],"types":[{"html_id":"github.com/jetrockets/shrine.cr/Shrine/ClassMethods","path":"Shrine/ClassMethods.html","kind":"module","full_name":"Shrine::ClassMethods","name":"ClassMethods","abstract":false,"superclass":null,"ancestors":[],"locations":[{"filename":"shrine.cr","line_number":75,"url":"https://github.com/jetrockets/shrine.cr/blob/dfd7f05a9ee92ca80345bc9460ec44206407f41c/src/shrine.cr"}],"repository_name":"github.com/jetrockets/shrine.cr","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"github.com/jetrockets/shrine.cr/Shrine","kind":"class","full_name":"Shrine","name":"Shrine"},"doc":null,"summary":null,"class_methods":[],"constructors":[],"instance_methods":[{"id":"find_storage(name:String|Symbol)-instance-method","html_id":"find_storage(name:String|Symbol)-instance-method","name":"find_storage","doc":"Retrieves the storage under the given identifier (Symbol), raising Shrine::Error if the storage is missing.","summary":"<p>Retrieves the storage under the given identifier (Symbol), raising Shrine::Error if the storage is missing.</p>","abstract":false,"args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":"String | Symbol"}],"args_string":"(name : String | Symbol)","source_link":"https://github.com/jetrockets/shrine.cr/blob/dfd7f05a9ee92ca80345bc9460ec44206407f41c/src/shrine.cr#L81","def":{"name":"find_storage","args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":"String | Symbol"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"settings.storages[name.to_s]? || (raise(Error.new(\"storage #{name.inspect} isn't registered on #{self}\")))"}},{"id":"upload(io,storage,**options)-instance-method","html_id":"upload(io,storage,**options)-instance-method","name":"upload","doc":"Uploads the file to the specified storage. It delegates to `Shrine#upload`.\n\n    Shrine.upload(io, :store) #=> #<Shrine::UploadedFile>","summary":"<p>Uploads the file to the specified storage.</p>","abstract":false,"args":[{"name":"io","doc":null,"default_value":"","external_name":"io","restriction":""},{"name":"storage","doc":null,"default_value":"","external_name":"storage","restriction":""}],"args_string":"(io, storage, **options)","source_link":"https://github.com/jetrockets/shrine.cr/blob/dfd7f05a9ee92ca80345bc9460ec44206407f41c/src/shrine.cr#L88","def":{"name":"upload","args":[{"name":"io","doc":null,"default_value":"","external_name":"io","restriction":""},{"name":"storage","doc":null,"default_value":"","external_name":"storage","restriction":""}],"double_splat":{"name":"options","doc":null,"default_value":"","external_name":"options","restriction":""},"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"(new(storage)).upload(io, **options)"}}],"macros":[],"types":[]},{"html_id":"github.com/jetrockets/shrine.cr/Shrine/Error","path":"Shrine/Error.html","kind":"class","full_name":"Shrine::Error","name":"Error","abstract":false,"superclass":{"html_id":"github.com/jetrockets/shrine.cr/Exception","kind":"class","full_name":"Exception","name":"Exception"},"ancestors":[{"html_id":"github.com/jetrockets/shrine.cr/Exception","kind":"class","full_name":"Exception","name":"Exception"},{"html_id":"github.com/jetrockets/shrine.cr/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"github.com/jetrockets/shrine.cr/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"shrine.cr","line_number":11,"url":"https://github.com/jetrockets/shrine.cr/blob/dfd7f05a9ee92ca80345bc9460ec44206407f41c/src/shrine.cr"}],"repository_name":"github.com/jetrockets/shrine.cr","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[{"html_id":"github.com/jetrockets/shrine.cr/Shrine/FileNotFound","kind":"class","full_name":"Shrine::FileNotFound","name":"FileNotFound"},{"html_id":"github.com/jetrockets/shrine.cr/Shrine/InvalidFile","kind":"class","full_name":"Shrine::InvalidFile","name":"InvalidFile"}],"including_types":[],"namespace":{"html_id":"github.com/jetrockets/shrine.cr/Shrine","kind":"class","full_name":"Shrine","name":"Shrine"},"doc":null,"summary":null,"class_methods":[],"constructors":[],"instance_methods":[],"macros":[],"types":[]},{"html_id":"github.com/jetrockets/shrine.cr/Shrine/FileNotFound","path":"Shrine/FileNotFound.html","kind":"class","full_name":"Shrine::FileNotFound","name":"FileNotFound","abstract":false,"superclass":{"html_id":"github.com/jetrockets/shrine.cr/Shrine/Error","kind":"class","full_name":"Shrine::Error","name":"Error"},"ancestors":[{"html_id":"github.com/jetrockets/shrine.cr/Shrine/Error","kind":"class","full_name":"Shrine::Error","name":"Error"},{"html_id":"github.com/jetrockets/shrine.cr/Exception","kind":"class","full_name":"Exception","name":"Exception"},{"html_id":"github.com/jetrockets/shrine.cr/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"github.com/jetrockets/shrine.cr/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"shrine.cr","line_number":21,"url":"https://github.com/jetrockets/shrine.cr/blob/dfd7f05a9ee92ca80345bc9460ec44206407f41c/src/shrine.cr"}],"repository_name":"github.com/jetrockets/shrine.cr","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"github.com/jetrockets/shrine.cr/Shrine","kind":"class","full_name":"Shrine","name":"Shrine"},"doc":"Raised by the storage in the #open method.","summary":"<p>Raised by the storage in the #open method.</p>","class_methods":[],"constructors":[],"instance_methods":[],"macros":[],"types":[]},{"html_id":"github.com/jetrockets/shrine.cr/Shrine/InstanceMethods","path":"Shrine/InstanceMethods.html","kind":"module","full_name":"Shrine::InstanceMethods","name":"InstanceMethods","abstract":false,"superclass":null,"ancestors":[],"locations":[{"filename":"shrine.cr","line_number":93,"url":"https://github.com/jetrockets/shrine.cr/blob/dfd7f05a9ee92ca80345bc9460ec44206407f41c/src/shrine.cr"}],"repository_name":"github.com/jetrockets/shrine.cr","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[{"html_id":"github.com/jetrockets/shrine.cr/Shrine","kind":"class","full_name":"Shrine","name":"Shrine"}],"namespace":{"html_id":"github.com/jetrockets/shrine.cr/Shrine","kind":"class","full_name":"Shrine","name":"Shrine"},"doc":null,"summary":null,"class_methods":[],"constructors":[{"id":"new(storage_key:Symbol)-class-method","html_id":"new(storage_key:Symbol)-class-method","name":"new","doc":null,"summary":null,"abstract":false,"args":[{"name":"storage_key","doc":null,"default_value":"","external_name":"storage_key","restriction":"Symbol"}],"args_string":"(storage_key : Symbol)","source_link":"https://github.com/jetrockets/shrine.cr/blob/dfd7f05a9ee92ca80345bc9460ec44206407f41c/src/shrine.cr#L96","def":{"name":"new","args":[{"name":"storage_key","doc":null,"default_value":"","external_name":"storage_key","restriction":"Symbol"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"_ = allocate\n_.initialize(storage_key)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}}],"instance_methods":[{"id":"generate_location(io:IO|UploadedFile,metadata,**options)-instance-method","html_id":"generate_location(io:IO|UploadedFile,metadata,**options)-instance-method","name":"generate_location","doc":"Generates a unique location for the uploaded file, preserving the\nfile extension. Can be overriden in uploaders for generating custom\nlocation.","summary":"<p>Generates a unique location for the uploaded file, preserving the file extension.</p>","abstract":false,"args":[{"name":"io","doc":null,"default_value":"","external_name":"io","restriction":"IO | UploadedFile"},{"name":"metadata","doc":null,"default_value":"","external_name":"metadata","restriction":""}],"args_string":"(io : IO | UploadedFile, metadata, **options)","source_link":"https://github.com/jetrockets/shrine.cr/blob/dfd7f05a9ee92ca80345bc9460ec44206407f41c/src/shrine.cr#L131","def":{"name":"generate_location","args":[{"name":"io","doc":null,"default_value":"","external_name":"io","restriction":"IO | UploadedFile"},{"name":"metadata","doc":null,"default_value":"","external_name":"metadata","restriction":""}],"double_splat":{"name":"options","doc":null,"default_value":"","external_name":"options","restriction":""},"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"basic_location(io, metadata: metadata)"}},{"id":"generate_uid(io)-instance-method","html_id":"generate_uid(io)-instance-method","name":"generate_uid","doc":"Generates a unique identifier that can be used for a location.","summary":"<p>Generates a unique identifier that can be used for a location.</p>","abstract":false,"args":[{"name":"io","doc":null,"default_value":"","external_name":"io","restriction":""}],"args_string":"(io)","source_link":"https://github.com/jetrockets/shrine.cr/blob/dfd7f05a9ee92ca80345bc9460ec44206407f41c/src/shrine.cr#L232","def":{"name":"generate_uid","args":[{"name":"io","doc":null,"default_value":"","external_name":"io","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"Random.new.hex"}},{"id":"storage-instance-method","html_id":"storage-instance-method","name":"storage","doc":"Returns the storage object referenced by the identifier.","summary":"<p>Returns the storage object referenced by the identifier.</p>","abstract":false,"args":[],"args_string":"","source_link":"https://github.com/jetrockets/shrine.cr/blob/dfd7f05a9ee92ca80345bc9460ec44206407f41c/src/shrine.cr#L100","def":{"name":"storage","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"self.class.find_storage(storage_key)"}},{"id":"storage_key:Symbol-instance-method","html_id":"storage_key:Symbol-instance-method","name":"storage_key","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : Symbol","source_link":"https://github.com/jetrockets/shrine.cr/blob/dfd7f05a9ee92ca80345bc9460ec44206407f41c/src/shrine.cr#L96","def":{"name":"storage_key","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"Symbol","visibility":"Public","body":"@storage_key"}},{"id":"upload(io:IO|UploadedFile,**options)-instance-method","html_id":"upload(io:IO|UploadedFile,**options)-instance-method","name":"upload","doc":"The main method for uploading files. Takes an IO-like object and an\noptional context hash (used internally by Shrine::Attacher). It calls\nuser-defined #process, and afterwards it calls #store. The `io` is\nclosed after upload.\n\n  uploader.upload(io)\n  uploader.upload(io, metadata: { \"foo\" => \"bar\" })           # add metadata\n  uploader.upload(io, location: \"path/to/file\")               # specify location\n  uploader.upload(io, upload_options: { acl: \"public-read\" }) # add upload options\ndef upload(io : IO | UploadedFile, options : NamedTuple? = NamedTuple.new)","summary":"<p>The main method for uploading files.</p>","abstract":false,"args":[{"name":"io","doc":null,"default_value":"","external_name":"io","restriction":"IO | UploadedFile"}],"args_string":"(io : IO | UploadedFile, **options)","source_link":"https://github.com/jetrockets/shrine.cr/blob/dfd7f05a9ee92ca80345bc9460ec44206407f41c/src/shrine.cr#L114","def":{"name":"upload","args":[{"name":"io","doc":null,"default_value":"","external_name":"io","restriction":"IO | UploadedFile"}],"double_splat":{"name":"options","doc":null,"default_value":"","external_name":"options","restriction":""},"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"metadata = get_metadata(io, **options)\nlocation = get_location(io, **options.merge(metadata: metadata))\n_upload(io, **options.merge(location: location, metadata: metadata))\nUploadedFile.new(id: location, storage: storage_key, metadata: metadata)\n"}},{"id":"warn(message)-instance-method","html_id":"warn(message)-instance-method","name":"warn","doc":"Prints a warning to the logger.","summary":"<p>Prints a warning to the logger.</p>","abstract":false,"args":[{"name":"message","doc":null,"default_value":"","external_name":"message","restriction":""}],"args_string":"(message)","source_link":"https://github.com/jetrockets/shrine.cr/blob/dfd7f05a9ee92ca80345bc9460ec44206407f41c/src/shrine.cr#L136","def":{"name":"warn","args":[{"name":"message","doc":null,"default_value":"","external_name":"message","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"Shrine.logger.warn(\"SHRINE WARNING: #{message}\")"}}],"macros":[],"types":[]},{"html_id":"github.com/jetrockets/shrine.cr/Shrine/InvalidFile","path":"Shrine/InvalidFile.html","kind":"class","full_name":"Shrine::InvalidFile","name":"InvalidFile","abstract":false,"superclass":{"html_id":"github.com/jetrockets/shrine.cr/Shrine/Error","kind":"class","full_name":"Shrine::Error","name":"Error"},"ancestors":[{"html_id":"github.com/jetrockets/shrine.cr/Shrine/Error","kind":"class","full_name":"Shrine::Error","name":"Error"},{"html_id":"github.com/jetrockets/shrine.cr/Exception","kind":"class","full_name":"Exception","name":"Exception"},{"html_id":"github.com/jetrockets/shrine.cr/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"github.com/jetrockets/shrine.cr/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"shrine.cr","line_number":14,"url":"https://github.com/jetrockets/shrine.cr/blob/dfd7f05a9ee92ca80345bc9460ec44206407f41c/src/shrine.cr"}],"repository_name":"github.com/jetrockets/shrine.cr","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"github.com/jetrockets/shrine.cr/Shrine","kind":"class","full_name":"Shrine","name":"Shrine"},"doc":"Raised when a file is not a valid IO.","summary":"<p>Raised when a file is not a valid IO.</p>","class_methods":[],"constructors":[{"id":"new(io,missing_methods)-class-method","html_id":"new(io,missing_methods)-class-method","name":"new","doc":null,"summary":null,"abstract":false,"args":[{"name":"io","doc":null,"default_value":"","external_name":"io","restriction":""},{"name":"missing_methods","doc":null,"default_value":"","external_name":"missing_methods","restriction":""}],"args_string":"(io, missing_methods)","source_link":"https://github.com/jetrockets/shrine.cr/blob/dfd7f05a9ee92ca80345bc9460ec44206407f41c/src/shrine.cr#L15","def":{"name":"new","args":[{"name":"io","doc":null,"default_value":"","external_name":"io","restriction":""},{"name":"missing_methods","doc":null,"default_value":"","external_name":"missing_methods","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"_ = allocate\n_.initialize(io, missing_methods)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}}],"instance_methods":[],"macros":[],"types":[]},{"html_id":"github.com/jetrockets/shrine.cr/Shrine/Plugins","path":"Shrine/Plugins.html","kind":"module","full_name":"Shrine::Plugins","name":"Plugins","abstract":false,"superclass":null,"ancestors":[],"locations":[{"filename":"shrine/plugins.cr","line_number":2,"url":"https://github.com/jetrockets/shrine.cr/blob/dfd7f05a9ee92ca80345bc9460ec44206407f41c/src/shrine/plugins.cr"}],"repository_name":"github.com/jetrockets/shrine.cr","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"github.com/jetrockets/shrine.cr/Shrine","kind":"class","full_name":"Shrine","name":"Shrine"},"doc":null,"summary":null,"class_methods":[{"id":"register_plugin(name:Symbol,mod:Shrine::Plugins::Base)-class-method","html_id":"register_plugin(name:Symbol,mod:Shrine::Plugins::Base)-class-method","name":"register_plugin","doc":"Register the given plugin with Shrine, so that it can be loaded using\n`Shrine.plugin` with a symbol. Should be used by plugin files. Example:\n\n    Shrine::Plugins.register_plugin(:plugin_name, PluginModule)","summary":"<p>Register the given plugin with Shrine, so that it can be loaded using <code>Shrine.plugin</code> with a symbol.</p>","abstract":false,"args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":"Symbol"},{"name":"mod","doc":null,"default_value":"","external_name":"mod","restriction":"Shrine::Plugins::Base"}],"args_string":"(name : Symbol, mod : Shrine::Plugins::Base)","source_link":"https://github.com/jetrockets/shrine.cr/blob/dfd7f05a9ee92ca80345bc9460ec44206407f41c/src/shrine/plugins.cr#L12","def":{"name":"register_plugin","args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":"Symbol"},{"name":"mod","doc":null,"default_value":"","external_name":"mod","restriction":"Shrine::Plugins::Base"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@plugins[name] = mod"}}],"constructors":[],"instance_methods":[{"id":"plugins-instance-method","html_id":"plugins-instance-method","name":"plugins","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/jetrockets/shrine.cr/blob/dfd7f05a9ee92ca80345bc9460ec44206407f41c/src/shrine/plugins.cr#L6","def":{"name":"plugins","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@plugins"}}],"macros":[],"types":[{"html_id":"github.com/jetrockets/shrine.cr/Shrine/Plugins/Base","path":"Shrine/Plugins/Base.html","kind":"class","full_name":"Shrine::Plugins::Base","name":"Base","abstract":false,"superclass":{"html_id":"github.com/jetrockets/shrine.cr/Reference","kind":"class","full_name":"Reference","name":"Reference"},"ancestors":[{"html_id":"github.com/jetrockets/shrine.cr/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"github.com/jetrockets/shrine.cr/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"shrine/plugins.cr","line_number":3,"url":"https://github.com/jetrockets/shrine.cr/blob/dfd7f05a9ee92ca80345bc9460ec44206407f41c/src/shrine/plugins.cr"}],"repository_name":"github.com/jetrockets/shrine.cr","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"github.com/jetrockets/shrine.cr/Shrine/Plugins","kind":"module","full_name":"Shrine::Plugins","name":"Plugins"},"doc":null,"summary":null,"class_methods":[],"constructors":[],"instance_methods":[],"macros":[],"types":[]}]},{"html_id":"github.com/jetrockets/shrine.cr/Shrine/Settings","path":"Shrine/Settings.html","kind":"class","full_name":"Shrine::Settings","name":"Settings","abstract":false,"superclass":{"html_id":"github.com/jetrockets/shrine.cr/Reference","kind":"class","full_name":"Reference","name":"Reference"},"ancestors":[{"html_id":"github.com/jetrockets/shrine.cr/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"github.com/jetrockets/shrine.cr/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"shrine.cr","line_number":24,"url":"https://github.com/jetrockets/shrine.cr/blob/dfd7f05a9ee92ca80345bc9460ec44206407f41c/src/shrine.cr"}],"repository_name":"github.com/jetrockets/shrine.cr","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"github.com/jetrockets/shrine.cr/Shrine","kind":"class","full_name":"Shrine","name":"Shrine"},"doc":null,"summary":null,"class_methods":[{"id":"log_level-class-method","html_id":"log_level-class-method","name":"log_level","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":null,"def":{"name":"log_level","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@@log_level.not_nil!"}},{"id":"log_level=(value:Logger::Severity)-class-method","html_id":"log_level=(value:Logger::Severity)-class-method","name":"log_level=","doc":null,"summary":null,"abstract":false,"args":[{"name":"value","doc":null,"default_value":"","external_name":"value","restriction":"Logger::Severity"}],"args_string":"(value : Logger::Severity)","source_link":null,"def":{"name":"log_level=","args":[{"name":"value","doc":null,"default_value":"","external_name":"value","restriction":"Logger::Severity"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@@log_level = value"}},{"id":"log_level?-class-method","html_id":"log_level?-class-method","name":"log_level?","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":null,"def":{"name":"log_level?","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@@log_level"}},{"id":"storages-class-method","html_id":"storages-class-method","name":"storages","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":null,"def":{"name":"storages","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@@storages.not_nil!"}},{"id":"storages=(value:Hash(String,Storage::Base))-class-method","html_id":"storages=(value:Hash(String,Storage::Base))-class-method","name":"storages=","doc":null,"summary":null,"abstract":false,"args":[{"name":"value","doc":null,"default_value":"","external_name":"value","restriction":"Hash(String, Storage::Base)"}],"args_string":"(value : Hash(String, Storage::Base))","source_link":null,"def":{"name":"storages=","args":[{"name":"value","doc":null,"default_value":"","external_name":"value","restriction":"Hash(String, Storage::Base)"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@@storages = value"}},{"id":"storages?-class-method","html_id":"storages?-class-method","name":"storages?","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":null,"def":{"name":"storages?","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@@storages"}}],"constructors":[],"instance_methods":[],"macros":[],"types":[]},{"html_id":"github.com/jetrockets/shrine.cr/Shrine/Storage","path":"Shrine/Storage.html","kind":"module","full_name":"Shrine::Storage","name":"Storage","abstract":false,"superclass":null,"ancestors":[],"locations":[{"filename":"shrine/storage/base.cr","line_number":4,"url":"https://github.com/jetrockets/shrine.cr/blob/dfd7f05a9ee92ca80345bc9460ec44206407f41c/src/shrine/storage/base.cr"},{"filename":"shrine/storage/file_system.cr","line_number":4,"url":"https://github.com/jetrockets/shrine.cr/blob/dfd7f05a9ee92ca80345bc9460ec44206407f41c/src/shrine/storage/file_system.cr"},{"filename":"shrine/storage/memory.cr","line_number":4,"url":"https://github.com/jetrockets/shrine.cr/blob/dfd7f05a9ee92ca80345bc9460ec44206407f41c/src/shrine/storage/memory.cr"}],"repository_name":"github.com/jetrockets/shrine.cr","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"github.com/jetrockets/shrine.cr/Shrine","kind":"class","full_name":"Shrine","name":"Shrine"},"doc":null,"summary":null,"class_methods":[],"constructors":[],"instance_methods":[],"macros":[],"types":[{"html_id":"github.com/jetrockets/shrine.cr/Shrine/Storage/Base","path":"Shrine/Storage/Base.html","kind":"class","full_name":"Shrine::Storage::Base","name":"Base","abstract":true,"superclass":{"html_id":"github.com/jetrockets/shrine.cr/Reference","kind":"class","full_name":"Reference","name":"Reference"},"ancestors":[{"html_id":"github.com/jetrockets/shrine.cr/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"github.com/jetrockets/shrine.cr/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"shrine/storage/base.cr","line_number":5,"url":"https://github.com/jetrockets/shrine.cr/blob/dfd7f05a9ee92ca80345bc9460ec44206407f41c/src/shrine/storage/base.cr"}],"repository_name":"github.com/jetrockets/shrine.cr","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[{"html_id":"github.com/jetrockets/shrine.cr/Shrine/Storage/FileSystem","kind":"class","full_name":"Shrine::Storage::FileSystem","name":"FileSystem"},{"html_id":"github.com/jetrockets/shrine.cr/Shrine/Storage/Memory","kind":"class","full_name":"Shrine::Storage::Memory","name":"Memory"}],"including_types":[],"namespace":{"html_id":"github.com/jetrockets/shrine.cr/Shrine/Storage","kind":"module","full_name":"Shrine::Storage","name":"Storage"},"doc":null,"summary":null,"class_methods":[],"constructors":[],"instance_methods":[],"macros":[],"types":[]},{"html_id":"github.com/jetrockets/shrine.cr/Shrine/Storage/FileSystem","path":"Shrine/Storage/FileSystem.html","kind":"class","full_name":"Shrine::Storage::FileSystem","name":"FileSystem","abstract":false,"superclass":{"html_id":"github.com/jetrockets/shrine.cr/Shrine/Storage/Base","kind":"class","full_name":"Shrine::Storage::Base","name":"Base"},"ancestors":[{"html_id":"github.com/jetrockets/shrine.cr/Shrine/Storage/Base","kind":"class","full_name":"Shrine::Storage::Base","name":"Base"},{"html_id":"github.com/jetrockets/shrine.cr/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"github.com/jetrockets/shrine.cr/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"shrine/storage/file_system.cr","line_number":5,"url":"https://github.com/jetrockets/shrine.cr/blob/dfd7f05a9ee92ca80345bc9460ec44206407f41c/src/shrine/storage/file_system.cr"}],"repository_name":"github.com/jetrockets/shrine.cr","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[{"id":"DEFAULT_DIRECTORY_PERMISSIONS","name":"DEFAULT_DIRECTORY_PERMISSIONS","value":"493","doc":null,"summary":null},{"id":"DEFAULT_PERMISSIONS","name":"DEFAULT_PERMISSIONS","value":"420","doc":null,"summary":null}],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"github.com/jetrockets/shrine.cr/Shrine/Storage","kind":"module","full_name":"Shrine::Storage","name":"Storage"},"doc":null,"summary":null,"class_methods":[],"constructors":[{"id":"new(directory:String,prefix:String?=nil,clean=true,permissions:Int=DEFAULT_PERMISSIONS,directory_permissions:Int=DEFAULT_DIRECTORY_PERMISSIONS)-class-method","html_id":"new(directory:String,prefix:String?=nil,clean=true,permissions:Int=DEFAULT_PERMISSIONS,directory_permissions:Int=DEFAULT_DIRECTORY_PERMISSIONS)-class-method","name":"new","doc":null,"summary":null,"abstract":false,"args":[{"name":"directory","doc":null,"default_value":"","external_name":"directory","restriction":"String"},{"name":"prefix","doc":null,"default_value":"nil","external_name":"prefix","restriction":"String | ::Nil"},{"name":"clean","doc":null,"default_value":"true","external_name":"clean","restriction":""},{"name":"permissions","doc":null,"default_value":"DEFAULT_PERMISSIONS","external_name":"permissions","restriction":"Int"},{"name":"directory_permissions","doc":null,"default_value":"DEFAULT_DIRECTORY_PERMISSIONS","external_name":"directory_permissions","restriction":"Int"}],"args_string":"(directory : String, prefix : String? = <span class=\"n\">nil</span>, clean = <span class=\"n\">true</span>, permissions : Int = <span class=\"t\">DEFAULT_PERMISSIONS</span>, directory_permissions : Int = <span class=\"t\">DEFAULT_DIRECTORY_PERMISSIONS</span>)","source_link":"https://github.com/jetrockets/shrine.cr/blob/dfd7f05a9ee92ca80345bc9460ec44206407f41c/src/shrine/storage/file_system.cr#L15","def":{"name":"new","args":[{"name":"directory","doc":null,"default_value":"","external_name":"directory","restriction":"String"},{"name":"prefix","doc":null,"default_value":"nil","external_name":"prefix","restriction":"String | ::Nil"},{"name":"clean","doc":null,"default_value":"true","external_name":"clean","restriction":""},{"name":"permissions","doc":null,"default_value":"DEFAULT_PERMISSIONS","external_name":"permissions","restriction":"Int"},{"name":"directory_permissions","doc":null,"default_value":"DEFAULT_DIRECTORY_PERMISSIONS","external_name":"directory_permissions","restriction":"Int"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"_ = allocate\n_.initialize(directory, prefix, clean, permissions, directory_permissions)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}}],"instance_methods":[{"id":"clean?:Bool-instance-method","html_id":"clean?:Bool-instance-method","name":"clean?","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : Bool","source_link":"https://github.com/jetrockets/shrine.cr/blob/dfd7f05a9ee92ca80345bc9460ec44206407f41c/src/shrine/storage/file_system.cr#L8","def":{"name":"clean?","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@clean"}},{"id":"directory:String-instance-method","html_id":"directory:String-instance-method","name":"directory","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : String","source_link":"https://github.com/jetrockets/shrine.cr/blob/dfd7f05a9ee92ca80345bc9460ec44206407f41c/src/shrine/storage/file_system.cr#L8","def":{"name":"directory","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"String","visibility":"Public","body":"@directory"}},{"id":"directory_permissions:Int32-instance-method","html_id":"directory_permissions:Int32-instance-method","name":"directory_permissions","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : Int32","source_link":"https://github.com/jetrockets/shrine.cr/blob/dfd7f05a9ee92ca80345bc9460ec44206407f41c/src/shrine/storage/file_system.cr#L10","def":{"name":"directory_permissions","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@directory_permissions"}},{"id":"exists?(id):Bool-instance-method","html_id":"exists?(id):Bool-instance-method","name":"exists?","doc":"Returns true if the file exists on the filesystem.","summary":"<p>Returns true if the file exists on the filesystem.</p>","abstract":false,"args":[{"name":"id","doc":null,"default_value":"","external_name":"id","restriction":""}],"args_string":"(id) : Bool","source_link":"https://github.com/jetrockets/shrine.cr/blob/dfd7f05a9ee92ca80345bc9460ec44206407f41c/src/shrine/storage/file_system.cr#L48","def":{"name":"exists?","args":[{"name":"id","doc":null,"default_value":"","external_name":"id","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"Bool","visibility":"Public","body":"File.exists?(path(id))"}},{"id":"open(id,**options):File-instance-method","html_id":"open(id,**options):File-instance-method","name":"open","doc":"Opens the file on the given location in read mode. Accepts additional\n`File.open` arguments.","summary":"<p>Opens the file on the given location in read mode.</p>","abstract":false,"args":[{"name":"id","doc":null,"default_value":"","external_name":"id","restriction":""}],"args_string":"(id, **options) : File","source_link":"https://github.com/jetrockets/shrine.cr/blob/dfd7f05a9ee92ca80345bc9460ec44206407f41c/src/shrine/storage/file_system.cr#L40","def":{"name":"open","args":[{"name":"id","doc":null,"default_value":"","external_name":"id","restriction":""}],"double_splat":{"name":"options","doc":null,"default_value":"","external_name":"options","restriction":""},"splat_index":null,"yields":null,"block_arg":null,"return_type":"File","visibility":"Public","body":"begin\n  File.open(path(id), mode: \"rb\")\nrescue Errno\n  raise(Shrine::FileNotFound.new(\"file #{id.inspect} not found on storage\"))\nend"}},{"id":"path(id)-instance-method","html_id":"path(id)-instance-method","name":"path","doc":"Returns the full path to the file.","summary":"<p>Returns the full path to the file.</p>","abstract":false,"args":[{"name":"id","doc":null,"default_value":"","external_name":"id","restriction":""}],"args_string":"(id)","source_link":"https://github.com/jetrockets/shrine.cr/blob/dfd7f05a9ee92ca80345bc9460ec44206407f41c/src/shrine/storage/file_system.cr#L53","def":{"name":"path","args":[{"name":"id","doc":null,"default_value":"","external_name":"id","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"File.join(directory, id.gsub(\"/\", File::SEPARATOR))"}},{"id":"permissions:Int32-instance-method","html_id":"permissions:Int32-instance-method","name":"permissions","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : Int32","source_link":"https://github.com/jetrockets/shrine.cr/blob/dfd7f05a9ee92ca80345bc9460ec44206407f41c/src/shrine/storage/file_system.cr#L9","def":{"name":"permissions","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@permissions"}},{"id":"prefix:String?-instance-method","html_id":"prefix:String?-instance-method","name":"prefix","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : String?","source_link":"https://github.com/jetrockets/shrine.cr/blob/dfd7f05a9ee92ca80345bc9460ec44206407f41c/src/shrine/storage/file_system.cr#L9","def":{"name":"prefix","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"String | ::Nil","visibility":"Public","body":"@prefix"}},{"id":"upload(io,id:String,move=false,**options)-instance-method","html_id":"upload(io,id:String,move=false,**options)-instance-method","name":"upload","doc":"Copies the file into the given location.","summary":"<p>Copies the file into the given location.</p>","abstract":false,"args":[{"name":"io","doc":null,"default_value":"","external_name":"io","restriction":""},{"name":"id","doc":null,"default_value":"","external_name":"id","restriction":"String"},{"name":"move","doc":null,"default_value":"false","external_name":"move","restriction":""}],"args_string":"(io, id : String, move = <span class=\"n\">false</span>, **options)","source_link":"https://github.com/jetrockets/shrine.cr/blob/dfd7f05a9ee92ca80345bc9460ec44206407f41c/src/shrine/storage/file_system.cr#L29","def":{"name":"upload","args":[{"name":"io","doc":null,"default_value":"","external_name":"io","restriction":""},{"name":"id","doc":null,"default_value":"","external_name":"id","restriction":"String"},{"name":"move","doc":null,"default_value":"false","external_name":"move","restriction":""}],"double_splat":{"name":"options","doc":null,"default_value":"","external_name":"options","restriction":""},"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"if move && (movable?(io))\n  move(io, path!(id))\nelse\n  File.write(path!(id), content: io, perm: permissions)\nend"}},{"id":"url(id,host:String?=nil,**options)-instance-method","html_id":"url(id,host:String?=nil,**options)-instance-method","name":"url","doc":"If #prefix is not present, returns a path composed of #directory and\nthe given `id`. If #prefix is present, it excludes the #directory part\nfrom the returned path (e.g. #directory can be set to \"public\" folder).\nBoth cases accept a `:host` value which will be prefixed to the\ngenerated path.","summary":"<p>If #prefix is not present, returns a path composed of #directory and the given <code>id</code>.</p>","abstract":false,"args":[{"name":"id","doc":null,"default_value":"","external_name":"id","restriction":""},{"name":"host","doc":null,"default_value":"nil","external_name":"host","restriction":"String | ::Nil"}],"args_string":"(id, host : String? = <span class=\"n\">nil</span>, **options)","source_link":"https://github.com/jetrockets/shrine.cr/blob/dfd7f05a9ee92ca80345bc9460ec44206407f41c/src/shrine/storage/file_system.cr#L62","def":{"name":"url","args":[{"name":"id","doc":null,"default_value":"","external_name":"id","restriction":""},{"name":"host","doc":null,"default_value":"nil","external_name":"host","restriction":"String | ::Nil"}],"double_splat":{"name":"options","doc":null,"default_value":"","external_name":"options","restriction":""},"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"path = (prefix ? relative_path(id) : path(id)).to_s\nhost ? host + path : path\n"}}],"macros":[],"types":[]},{"html_id":"github.com/jetrockets/shrine.cr/Shrine/Storage/Memory","path":"Shrine/Storage/Memory.html","kind":"class","full_name":"Shrine::Storage::Memory","name":"Memory","abstract":false,"superclass":{"html_id":"github.com/jetrockets/shrine.cr/Shrine/Storage/Base","kind":"class","full_name":"Shrine::Storage::Base","name":"Base"},"ancestors":[{"html_id":"github.com/jetrockets/shrine.cr/Shrine/Storage/Base","kind":"class","full_name":"Shrine::Storage::Base","name":"Base"},{"html_id":"github.com/jetrockets/shrine.cr/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"github.com/jetrockets/shrine.cr/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"shrine/storage/memory.cr","line_number":5,"url":"https://github.com/jetrockets/shrine.cr/blob/dfd7f05a9ee92ca80345bc9460ec44206407f41c/src/shrine/storage/memory.cr"}],"repository_name":"github.com/jetrockets/shrine.cr","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"github.com/jetrockets/shrine.cr/Shrine/Storage","kind":"module","full_name":"Shrine::Storage","name":"Storage"},"doc":null,"summary":null,"class_methods":[],"constructors":[{"id":"new(store:Hash={}ofString=>String)-class-method","html_id":"new(store:Hash={}ofString=&gt;String)-class-method","name":"new","doc":null,"summary":null,"abstract":false,"args":[{"name":"store","doc":null,"default_value":"{} of String => String","external_name":"store","restriction":"Hash"}],"args_string":"(store : Hash = {} <span class=\"k\">of</span> <span class=\"t\">String</span> => <span class=\"t\">String</span>)","source_link":"https://github.com/jetrockets/shrine.cr/blob/dfd7f05a9ee92ca80345bc9460ec44206407f41c/src/shrine/storage/memory.cr#L9","def":{"name":"new","args":[{"name":"store","doc":null,"default_value":"{} of String => String","external_name":"store","restriction":"Hash"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"_ = allocate\n_.initialize(store)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}}],"instance_methods":[{"id":"clean?:Bool-instance-method","html_id":"clean?:Bool-instance-method","name":"clean?","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : Bool","source_link":"https://github.com/jetrockets/shrine.cr/blob/dfd7f05a9ee92ca80345bc9460ec44206407f41c/src/shrine/storage/memory.cr#L7","def":{"name":"clean?","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@clean"}},{"id":"clear!-instance-method","html_id":"clear!-instance-method","name":"clear!","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/jetrockets/shrine.cr/blob/dfd7f05a9ee92ca80345bc9460ec44206407f41c/src/shrine/storage/memory.cr#L46","def":{"name":"clear!","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"store.clear"}},{"id":"delete(id)-instance-method","html_id":"delete(id)-instance-method","name":"delete","doc":null,"summary":null,"abstract":false,"args":[{"name":"id","doc":null,"default_value":"","external_name":"id","restriction":""}],"args_string":"(id)","source_link":"https://github.com/jetrockets/shrine.cr/blob/dfd7f05a9ee92ca80345bc9460ec44206407f41c/src/shrine/storage/memory.cr#L37","def":{"name":"delete","args":[{"name":"id","doc":null,"default_value":"","external_name":"id","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"store.delete(id)"}},{"id":"delete_prefixed(delete_prefix)-instance-method","html_id":"delete_prefixed(delete_prefix)-instance-method","name":"delete_prefixed","doc":null,"summary":null,"abstract":false,"args":[{"name":"delete_prefix","doc":null,"default_value":"","external_name":"delete_prefix","restriction":""}],"args_string":"(delete_prefix)","source_link":"https://github.com/jetrockets/shrine.cr/blob/dfd7f05a9ee92ca80345bc9460ec44206407f41c/src/shrine/storage/memory.cr#L41","def":{"name":"delete_prefixed","args":[{"name":"delete_prefix","doc":null,"default_value":"","external_name":"delete_prefix","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"delete_prefix = (delete_prefix.chomp(\"/\")) + \"/\"\nstore.delete_if do |key, _value|\n  key.start_with?(delete_prefix)\nend\n"}},{"id":"exists?(id)-instance-method","html_id":"exists?(id)-instance-method","name":"exists?","doc":null,"summary":null,"abstract":false,"args":[{"name":"id","doc":null,"default_value":"","external_name":"id","restriction":""}],"args_string":"(id)","source_link":"https://github.com/jetrockets/shrine.cr/blob/dfd7f05a9ee92ca80345bc9460ec44206407f41c/src/shrine/storage/memory.cr#L25","def":{"name":"exists?","args":[{"name":"id","doc":null,"default_value":"","external_name":"id","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"store.has_key?(id)"}},{"id":"open(id)-instance-method","html_id":"open(id)-instance-method","name":"open","doc":null,"summary":null,"abstract":false,"args":[{"name":"id","doc":null,"default_value":"","external_name":"id","restriction":""}],"args_string":"(id)","source_link":"https://github.com/jetrockets/shrine.cr/blob/dfd7f05a9ee92ca80345bc9460ec44206407f41c/src/shrine/storage/memory.cr#L18","def":{"name":"open","args":[{"name":"id","doc":null,"default_value":"","external_name":"id","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"begin\n  IO::Memory.new(store[id])\nrescue KeyError\n  raise(Shrine::FileNotFound.new(\"file #{id.inspect} not found on storage\"))\nend"}},{"id":"path(id)-instance-method","html_id":"path(id)-instance-method","name":"path","doc":null,"summary":null,"abstract":false,"args":[{"name":"id","doc":null,"default_value":"","external_name":"id","restriction":""}],"args_string":"(id)","source_link":"https://github.com/jetrockets/shrine.cr/blob/dfd7f05a9ee92ca80345bc9460ec44206407f41c/src/shrine/storage/memory.cr#L33","def":{"name":"path","args":[{"name":"id","doc":null,"default_value":"","external_name":"id","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"id"}},{"id":"store:Hash(String,String)-instance-method","html_id":"store:Hash(String,String)-instance-method","name":"store","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : Hash(String, String)","source_link":"https://github.com/jetrockets/shrine.cr/blob/dfd7f05a9ee92ca80345bc9460ec44206407f41c/src/shrine/storage/memory.cr#L6","def":{"name":"store","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@store"}},{"id":"upload(io,id,**options)-instance-method","html_id":"upload(io,id,**options)-instance-method","name":"upload","doc":null,"summary":null,"abstract":false,"args":[{"name":"io","doc":null,"default_value":"","external_name":"io","restriction":""},{"name":"id","doc":null,"default_value":"","external_name":"id","restriction":""}],"args_string":"(io, id, **options)","source_link":"https://github.com/jetrockets/shrine.cr/blob/dfd7f05a9ee92ca80345bc9460ec44206407f41c/src/shrine/storage/memory.cr#L14","def":{"name":"upload","args":[{"name":"io","doc":null,"default_value":"","external_name":"io","restriction":""},{"name":"id","doc":null,"default_value":"","external_name":"id","restriction":""}],"double_splat":{"name":"options","doc":null,"default_value":"","external_name":"options","restriction":""},"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"store[id.to_s] = io.gets_to_end"}},{"id":"url(id)-instance-method","html_id":"url(id)-instance-method","name":"url","doc":null,"summary":null,"abstract":false,"args":[{"name":"id","doc":null,"default_value":"","external_name":"id","restriction":""}],"args_string":"(id)","source_link":"https://github.com/jetrockets/shrine.cr/blob/dfd7f05a9ee92ca80345bc9460ec44206407f41c/src/shrine/storage/memory.cr#L29","def":{"name":"url","args":[{"name":"id","doc":null,"default_value":"","external_name":"id","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"\"memory://#{path(id)}\""}}],"macros":[],"types":[]}]},{"html_id":"github.com/jetrockets/shrine.cr/Shrine/UploadedFile","path":"Shrine/UploadedFile.html","kind":"class","full_name":"Shrine::UploadedFile","name":"UploadedFile","abstract":false,"superclass":{"html_id":"github.com/jetrockets/shrine.cr/Reference","kind":"class","full_name":"Reference","name":"Reference"},"ancestors":[{"html_id":"github.com/jetrockets/shrine.cr/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"github.com/jetrockets/shrine.cr/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"shrine/uploaded_file.cr","line_number":6,"url":"https://github.com/jetrockets/shrine.cr/blob/dfd7f05a9ee92ca80345bc9460ec44206407f41c/src/shrine/uploaded_file.cr"}],"repository_name":"github.com/jetrockets/shrine.cr","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"github.com/jetrockets/shrine.cr/Shrine","kind":"class","full_name":"Shrine","name":"Shrine"},"doc":null,"summary":null,"class_methods":[],"constructors":[{"id":"new(id:String,storage:String,metadata:NamedTuple=NamedTuple.new)-class-method","html_id":"new(id:String,storage:String,metadata:NamedTuple=NamedTuple.new)-class-method","name":"new","doc":null,"summary":null,"abstract":false,"args":[{"name":"id","doc":null,"default_value":"","external_name":"id","restriction":"String"},{"name":"storage","doc":null,"default_value":"","external_name":"storage","restriction":"String"},{"name":"metadata","doc":null,"default_value":"NamedTuple.new","external_name":"metadata","restriction":"NamedTuple"}],"args_string":"(id : String, storage : String, metadata : NamedTuple = <span class=\"t\">NamedTuple</span>.<span class=\"k\">new</span>)","source_link":"https://github.com/jetrockets/shrine.cr/blob/dfd7f05a9ee92ca80345bc9460ec44206407f41c/src/shrine/uploaded_file.cr#L40","def":{"name":"new","args":[{"name":"id","doc":null,"default_value":"","external_name":"id","restriction":"String"},{"name":"storage","doc":null,"default_value":"","external_name":"storage","restriction":"String"},{"name":"metadata","doc":null,"default_value":"NamedTuple.new","external_name":"metadata","restriction":"NamedTuple"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"_ = allocate\n_.initialize(id, storage, metadata)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}},{"id":"new(id:String,storage:Symbol,metadata:NamedTuple=NamedTuple.new)-class-method","html_id":"new(id:String,storage:Symbol,metadata:NamedTuple=NamedTuple.new)-class-method","name":"new","doc":null,"summary":null,"abstract":false,"args":[{"name":"id","doc":null,"default_value":"","external_name":"id","restriction":"String"},{"name":"storage","doc":null,"default_value":"","external_name":"storage","restriction":"Symbol"},{"name":"metadata","doc":null,"default_value":"NamedTuple.new","external_name":"metadata","restriction":"NamedTuple"}],"args_string":"(id : String, storage : Symbol, metadata : NamedTuple = <span class=\"t\">NamedTuple</span>.<span class=\"k\">new</span>)","source_link":"https://github.com/jetrockets/shrine.cr/blob/dfd7f05a9ee92ca80345bc9460ec44206407f41c/src/shrine/uploaded_file.cr#L47","def":{"name":"new","args":[{"name":"id","doc":null,"default_value":"","external_name":"id","restriction":"String"},{"name":"storage","doc":null,"default_value":"","external_name":"storage","restriction":"Symbol"},{"name":"metadata","doc":null,"default_value":"NamedTuple.new","external_name":"metadata","restriction":"NamedTuple"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"_ = allocate\n_.initialize(id, storage, metadata)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}},{"id":"new(__temp_36:JSON::PullParser)-class-method","html_id":"new(__temp_36:JSON::PullParser)-class-method","name":"new","doc":null,"summary":null,"abstract":false,"args":[{"name":"__temp_36","doc":null,"default_value":"","external_name":"__temp_36","restriction":"::JSON::PullParser"}],"args_string":"(__temp_36 : JSON::PullParser)","source_link":null,"def":{"name":"new","args":[{"name":"__temp_36","doc":null,"default_value":"","external_name":"__temp_36","restriction":"::JSON::PullParser"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"_ = allocate\n_.initialize(__temp_36)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}}],"instance_methods":[{"id":"[](key)-instance-method","html_id":"[](key)-instance-method","name":"[]","doc":"Shorthand for accessing metadata values.","summary":"<p>Shorthand for accessing metadata values.</p>","abstract":false,"args":[{"name":"key","doc":null,"default_value":"","external_name":"key","restriction":""}],"args_string":"(key)","source_link":"https://github.com/jetrockets/shrine.cr/blob/dfd7f05a9ee92ca80345bc9460ec44206407f41c/src/shrine/uploaded_file.cr#L77","def":{"name":"[]","args":[{"name":"key","doc":null,"default_value":"","external_name":"key","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"metadata[key]?"}},{"id":"close-instance-method","html_id":"close-instance-method","name":"close","doc":"Part of complying to the IO interface. It delegates to the internally\nopened IO object.","summary":"<p>Part of complying to the IO interface.</p>","abstract":false,"args":[],"args_string":"","source_link":"https://github.com/jetrockets/shrine.cr/blob/dfd7f05a9ee92ca80345bc9460ec44206407f41c/src/shrine/uploaded_file.cr#L170","def":{"name":"close","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"if opened?\n  io.close\nend"}},{"id":"content_type-instance-method","html_id":"content_type-instance-method","name":"content_type","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/jetrockets/shrine.cr/blob/dfd7f05a9ee92ca80345bc9460ec44206407f41c/src/shrine/uploaded_file.cr#L53","def":{"name":"content_type","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"mime_type"}},{"id":"download(**options,&block)-instance-method","html_id":"download(**options,&amp;block)-instance-method","name":"download","doc":"Streams content into a newly created tempfile, yields it to the\nblock, and at the end of the block automatically closes it.\nIn this case the return value of the method is the block\nreturn value.\n\n```\nuploaded_file.download { |tempfile| tempfile.gets_to_end } # tempfile is deleted\n```\n","summary":"<p>Streams content into a newly created tempfile, yields it to the block, and at the end of the block automatically closes it.</p>","abstract":false,"args":[],"args_string":"(**options, &block)","source_link":"https://github.com/jetrockets/shrine.cr/blob/dfd7f05a9ee92ca80345bc9460ec44206407f41c/src/shrine/uploaded_file.cr#L139","def":{"name":"download","args":[],"double_splat":{"name":"options","doc":null,"default_value":"","external_name":"options","restriction":""},"splat_index":null,"yields":1,"block_arg":null,"return_type":"","visibility":"Public","body":"begin\n  tempfile = download(**options)\n  yield tempfile\nensure\n  if tempfile\n    tempfile.not_nil!.close\n    tempfile.not_nil!.delete\n  end\nend"}},{"id":"download(**options)-instance-method","html_id":"download(**options)-instance-method","name":"download","doc":"Streams content into a newly created tempfile and returns it.\n\n```\nuploaded_file.download\n# => #<File:/var/folders/.../20180302-33119-1h1vjbq.jpg>\n```\n","summary":"<p>Streams content into a newly created tempfile and returns it.</p>","abstract":false,"args":[],"args_string":"(**options)","source_link":"https://github.com/jetrockets/shrine.cr/blob/dfd7f05a9ee92ca80345bc9460ec44206407f41c/src/shrine/uploaded_file.cr#L124","def":{"name":"download","args":[],"double_splat":{"name":"options","doc":null,"default_value":"","external_name":"options","restriction":""},"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"tempfile = File.tempfile(\"shrine\", \".#{extension}\")\nstream(tempfile, **options)\ntempfile.rewind\n"}},{"id":"exists?-instance-method","html_id":"exists?-instance-method","name":"exists?","doc":"Calls `#exists?` on the storage, which checks whether the file exists\non the storage.","summary":"<p>Calls <code><a href=\"../Shrine/UploadedFile.html#exists?-instance-method\">#exists?</a></code> on the storage, which checks whether the file exists on the storage.</p>","abstract":false,"args":[],"args_string":"","source_link":"https://github.com/jetrockets/shrine.cr/blob/dfd7f05a9ee92ca80345bc9460ec44206407f41c/src/shrine/uploaded_file.cr#L186","def":{"name":"exists?","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"storage.exists?(id)"}},{"id":"extension-instance-method","html_id":"extension-instance-method","name":"extension","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/jetrockets/shrine.cr/blob/dfd7f05a9ee92ca80345bc9460ec44206407f41c/src/shrine/uploaded_file.cr#L64","def":{"name":"extension","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"result = (File.extname(id))[1..-1]?\nif original_filename\n  result || (result = (File.extname(original_filename.not_nil!))[1..-1]?)\nend\nif result\n  result = result.downcase\nend\nresult\n"}},{"id":"gets_to_end(*args,**options,&block)-instance-method","html_id":"gets_to_end(*args,**options,&amp;block)-instance-method","name":"gets_to_end","doc":null,"summary":null,"abstract":false,"args":[{"name":"args","doc":null,"default_value":"","external_name":"args","restriction":""}],"args_string":"(*args, **options, &block)","source_link":"https://github.com/jetrockets/shrine.cr/blob/dfd7f05a9ee92ca80345bc9460ec44206407f41c/src/shrine/uploaded_file.cr#L59","def":{"name":"gets_to_end","args":[{"name":"args","doc":null,"default_value":"","external_name":"args","restriction":""}],"double_splat":{"name":"options","doc":null,"default_value":"","external_name":"options","restriction":""},"splat_index":0,"yields":1,"block_arg":null,"return_type":"","visibility":"Public","body":"io.gets_to_end(*args, **options) do |*yield_args|\n  yield *yield_args\nend"}},{"id":"gets_to_end(*args,**options)-instance-method","html_id":"gets_to_end(*args,**options)-instance-method","name":"gets_to_end","doc":null,"summary":null,"abstract":false,"args":[{"name":"args","doc":null,"default_value":"","external_name":"args","restriction":""}],"args_string":"(*args, **options)","source_link":"https://github.com/jetrockets/shrine.cr/blob/dfd7f05a9ee92ca80345bc9460ec44206407f41c/src/shrine/uploaded_file.cr#L59","def":{"name":"gets_to_end","args":[{"name":"args","doc":null,"default_value":"","external_name":"args","restriction":""}],"double_splat":{"name":"options","doc":null,"default_value":"","external_name":"options","restriction":""},"splat_index":0,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"io.gets_to_end(*args, **options)"}},{"id":"id:String-instance-method","html_id":"id:String-instance-method","name":"id","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : String","source_link":null,"def":{"name":"id","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"String","visibility":"Public","body":"@id"}},{"id":"id=(_id:String)-instance-method","html_id":"id=(_id:String)-instance-method","name":"id=","doc":null,"summary":null,"abstract":false,"args":[{"name":"_id","doc":null,"default_value":"","external_name":"_id","restriction":"String"}],"args_string":"(_id : String)","source_link":null,"def":{"name":"id=","args":[{"name":"_id","doc":null,"default_value":"","external_name":"_id","restriction":"String"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@id = _id"}},{"id":"io:IO-instance-method","html_id":"io:IO-instance-method","name":"io","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : IO","source_link":"https://github.com/jetrockets/shrine.cr/blob/dfd7f05a9ee92ca80345bc9460ec44206407f41c/src/shrine/uploaded_file.cr#L195","def":{"name":"io","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"IO","visibility":"Public","body":"(@io || (@io = _open)).not_nil!"}},{"id":"metadata:UploadedFile::Metadata-instance-method","html_id":"metadata:UploadedFile::Metadata-instance-method","name":"metadata","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : UploadedFile::Metadata","source_link":null,"def":{"name":"metadata","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"UploadedFile::Metadata","visibility":"Public","body":"@metadata"}},{"id":"metadata=(_metadata:UploadedFile::Metadata)-instance-method","html_id":"metadata=(_metadata:UploadedFile::Metadata)-instance-method","name":"metadata=","doc":null,"summary":null,"abstract":false,"args":[{"name":"_metadata","doc":null,"default_value":"","external_name":"_metadata","restriction":"UploadedFile::Metadata"}],"args_string":"(_metadata : UploadedFile::Metadata)","source_link":null,"def":{"name":"metadata=","args":[{"name":"_metadata","doc":null,"default_value":"","external_name":"_metadata","restriction":"UploadedFile::Metadata"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@metadata = _metadata"}},{"id":"mime_type(*args,**options,&block)-instance-method","html_id":"mime_type(*args,**options,&amp;block)-instance-method","name":"mime_type","doc":null,"summary":null,"abstract":false,"args":[{"name":"args","doc":null,"default_value":"","external_name":"args","restriction":""}],"args_string":"(*args, **options, &block)","source_link":"https://github.com/jetrockets/shrine.cr/blob/dfd7f05a9ee92ca80345bc9460ec44206407f41c/src/shrine/uploaded_file.cr#L52","def":{"name":"mime_type","args":[{"name":"args","doc":null,"default_value":"","external_name":"args","restriction":""}],"double_splat":{"name":"options","doc":null,"default_value":"","external_name":"options","restriction":""},"splat_index":0,"yields":1,"block_arg":null,"return_type":"","visibility":"Public","body":"@metadata.mime_type(*args, **options) do |*yield_args|\n  yield *yield_args\nend"}},{"id":"mime_type(*args,**options)-instance-method","html_id":"mime_type(*args,**options)-instance-method","name":"mime_type","doc":null,"summary":null,"abstract":false,"args":[{"name":"args","doc":null,"default_value":"","external_name":"args","restriction":""}],"args_string":"(*args, **options)","source_link":"https://github.com/jetrockets/shrine.cr/blob/dfd7f05a9ee92ca80345bc9460ec44206407f41c/src/shrine/uploaded_file.cr#L52","def":{"name":"mime_type","args":[{"name":"args","doc":null,"default_value":"","external_name":"args","restriction":""}],"double_splat":{"name":"options","doc":null,"default_value":"","external_name":"options","restriction":""},"splat_index":0,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@metadata.mime_type(*args, **options)"}},{"id":"open(**options)-instance-method","html_id":"open(**options)-instance-method","name":"open","doc":"Calls `#open` on the storage to open the uploaded file for reading.\nMost storages will return a lazy IO object which dynamically\nretrieves file content from the storage as the object is being read.\n\nIf a block is given, the opened IO object is yielded to the block,\nand at the end of the block it's automatically closed. In this case\nthe return value of the method is the block return value.\n\nIf no block is given, the opened IO object is returned.\n\n```\nuploaded_file.open # => IO object returned by the storage\nuploaded_file.read # => \"...\"\nuploaded_file.close\n\n# or\n\nuploaded_file.open { |io| io.read } # the IO is automatically closed\n```\n","summary":"<p>Calls <code><a href=\"../Shrine/UploadedFile.html#open(**options)-instance-method\">#open</a></code> on the storage to open the uploaded file for reading.</p>","abstract":false,"args":[],"args_string":"(**options)","source_link":"https://github.com/jetrockets/shrine.cr/blob/dfd7f05a9ee92ca80345bc9460ec44206407f41c/src/shrine/uploaded_file.cr#L101","def":{"name":"open","args":[],"double_splat":{"name":"options","doc":null,"default_value":"","external_name":"options","restriction":""},"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"if @io\n  @io.not_nil!.close\nend\n@io = _open(**options)\n"}},{"id":"open(**options,&block)-instance-method","html_id":"open(**options,&amp;block)-instance-method","name":"open","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"(**options, &block)","source_link":"https://github.com/jetrockets/shrine.cr/blob/dfd7f05a9ee92ca80345bc9460ec44206407f41c/src/shrine/uploaded_file.cr#L106","def":{"name":"open","args":[],"double_splat":{"name":"options","doc":null,"default_value":"","external_name":"options","restriction":""},"splat_index":null,"yields":1,"block_arg":null,"return_type":"","visibility":"Public","body":"open(**options)\nbegin\n  yield @io.not_nil!\nensure\n  close\n  @io = nil\nend\n"}},{"id":"opened?-instance-method","html_id":"opened?-instance-method","name":"opened?","doc":"Returns whether the file has already been opened.","summary":"<p>Returns whether the file has already been opened.</p>","abstract":false,"args":[],"args_string":"","source_link":"https://github.com/jetrockets/shrine.cr/blob/dfd7f05a9ee92ca80345bc9460ec44206407f41c/src/shrine/uploaded_file.cr#L175","def":{"name":"opened?","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"!(!@io)"}},{"id":"original_filename-instance-method","html_id":"original_filename-instance-method","name":"original_filename","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/jetrockets/shrine.cr/blob/dfd7f05a9ee92ca80345bc9460ec44206407f41c/src/shrine/uploaded_file.cr#L72","def":{"name":"original_filename","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"if metadata\n  metadata.filename\nend"}},{"id":"pos(*args,**options,&block)-instance-method","html_id":"pos(*args,**options,&amp;block)-instance-method","name":"pos","doc":null,"summary":null,"abstract":false,"args":[{"name":"args","doc":null,"default_value":"","external_name":"args","restriction":""}],"args_string":"(*args, **options, &block)","source_link":"https://github.com/jetrockets/shrine.cr/blob/dfd7f05a9ee92ca80345bc9460ec44206407f41c/src/shrine/uploaded_file.cr#L58","def":{"name":"pos","args":[{"name":"args","doc":null,"default_value":"","external_name":"args","restriction":""}],"double_splat":{"name":"options","doc":null,"default_value":"","external_name":"options","restriction":""},"splat_index":0,"yields":1,"block_arg":null,"return_type":"","visibility":"Public","body":"io.pos(*args, **options) do |*yield_args|\n  yield *yield_args\nend"}},{"id":"pos(*args,**options)-instance-method","html_id":"pos(*args,**options)-instance-method","name":"pos","doc":null,"summary":null,"abstract":false,"args":[{"name":"args","doc":null,"default_value":"","external_name":"args","restriction":""}],"args_string":"(*args, **options)","source_link":"https://github.com/jetrockets/shrine.cr/blob/dfd7f05a9ee92ca80345bc9460ec44206407f41c/src/shrine/uploaded_file.cr#L58","def":{"name":"pos","args":[{"name":"args","doc":null,"default_value":"","external_name":"args","restriction":""}],"double_splat":{"name":"options","doc":null,"default_value":"","external_name":"options","restriction":""},"splat_index":0,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"io.pos(*args, **options)"}},{"id":"size(*args,**options,&block)-instance-method","html_id":"size(*args,**options,&amp;block)-instance-method","name":"size","doc":null,"summary":null,"abstract":false,"args":[{"name":"args","doc":null,"default_value":"","external_name":"args","restriction":""}],"args_string":"(*args, **options, &block)","source_link":"https://github.com/jetrockets/shrine.cr/blob/dfd7f05a9ee92ca80345bc9460ec44206407f41c/src/shrine/uploaded_file.cr#L51","def":{"name":"size","args":[{"name":"args","doc":null,"default_value":"","external_name":"args","restriction":""}],"double_splat":{"name":"options","doc":null,"default_value":"","external_name":"options","restriction":""},"splat_index":0,"yields":1,"block_arg":null,"return_type":"","visibility":"Public","body":"@metadata.size(*args, **options) do |*yield_args|\n  yield *yield_args\nend"}},{"id":"size(*args,**options)-instance-method","html_id":"size(*args,**options)-instance-method","name":"size","doc":null,"summary":null,"abstract":false,"args":[{"name":"args","doc":null,"default_value":"","external_name":"args","restriction":""}],"args_string":"(*args, **options)","source_link":"https://github.com/jetrockets/shrine.cr/blob/dfd7f05a9ee92ca80345bc9460ec44206407f41c/src/shrine/uploaded_file.cr#L51","def":{"name":"size","args":[{"name":"args","doc":null,"default_value":"","external_name":"args","restriction":""}],"double_splat":{"name":"options","doc":null,"default_value":"","external_name":"options","restriction":""},"splat_index":0,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@metadata.size(*args, **options)"}},{"id":"storage-instance-method","html_id":"storage-instance-method","name":"storage","doc":"Returns the storage that this file was uploaded to.","summary":"<p>Returns the storage that this file was uploaded to.</p>","abstract":false,"args":[],"args_string":"","source_link":"https://github.com/jetrockets/shrine.cr/blob/dfd7f05a9ee92ca80345bc9460ec44206407f41c/src/shrine/uploaded_file.cr#L191","def":{"name":"storage","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"(Shrine.find_storage(storage_key.not_nil!)).not_nil!"}},{"id":"storage_key:String-instance-method","html_id":"storage_key:String-instance-method","name":"storage_key","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : String","source_link":null,"def":{"name":"storage_key","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"String","visibility":"Public","body":"@storage_key"}},{"id":"storage_key=(_storage_key:String)-instance-method","html_id":"storage_key=(_storage_key:String)-instance-method","name":"storage_key=","doc":null,"summary":null,"abstract":false,"args":[{"name":"_storage_key","doc":null,"default_value":"","external_name":"_storage_key","restriction":"String"}],"args_string":"(_storage_key : String)","source_link":null,"def":{"name":"storage_key=","args":[{"name":"_storage_key","doc":null,"default_value":"","external_name":"_storage_key","restriction":"String"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@storage_key = _storage_key"}},{"id":"stream(destination:IO,**options)-instance-method","html_id":"stream(destination:IO,**options)-instance-method","name":"stream","doc":"Streams uploaded file content into the specified destination. The\ndestination object is given directly to `IO.copy`.\n\nIf the uploaded file is already opened, it will be simply rewinded\nafter streaming finishes. Otherwise the uploaded file is opened and\nthen closed after streaming.\n\n```\nuploaded_file.stream(IO::Memory.new)\n```","summary":"<p>Streams uploaded file content into the specified destination.</p>","abstract":false,"args":[{"name":"destination","doc":null,"default_value":"","external_name":"destination","restriction":"IO"}],"args_string":"(destination : IO, **options)","source_link":"https://github.com/jetrockets/shrine.cr/blob/dfd7f05a9ee92ca80345bc9460ec44206407f41c/src/shrine/uploaded_file.cr#L159","def":{"name":"stream","args":[{"name":"destination","doc":null,"default_value":"","external_name":"destination","restriction":"IO"}],"double_splat":{"name":"options","doc":null,"default_value":"","external_name":"options","restriction":""},"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"if opened?\n  IO.copy(io, destination)\n  io.rewind\nelse\n  open(**options) do |io|\n    IO.copy(io, destination)\n  end\nend"}},{"id":"to_json(json:JSON::Builder)-instance-method","html_id":"to_json(json:JSON::Builder)-instance-method","name":"to_json","doc":null,"summary":null,"abstract":false,"args":[{"name":"json","doc":null,"default_value":"","external_name":"json","restriction":"::JSON::Builder"}],"args_string":"(json : JSON::Builder)","source_link":null,"def":{"name":"to_json","args":[{"name":"json","doc":null,"default_value":"","external_name":"json","restriction":"::JSON::Builder"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"json.object do\n  _id = @id\n  if _id.nil?\n  else\n    json.field(\"id\") do\n      _id.to_json(json)\n    end\n  end\n  _storage_key = @storage_key\n  if _storage_key.nil?\n  else\n    json.field(\"storage_key\") do\n      _storage_key.to_json(json)\n    end\n  end\n  _metadata = @metadata\n  if _metadata.nil?\n  else\n    json.field(\"metadata\") do\n      _metadata.to_json(json)\n    end\n  end\nend"}},{"id":"url(**options)-instance-method","html_id":"url(**options)-instance-method","name":"url","doc":"Calls `#url` on the storage, forwarding any given URL options.","summary":"<p>Calls <code><a href=\"../Shrine/UploadedFile.html#url(**options)-instance-method\">#url</a></code> on the storage, forwarding any given URL options.</p>","abstract":false,"args":[],"args_string":"(**options)","source_link":"https://github.com/jetrockets/shrine.cr/blob/dfd7f05a9ee92ca80345bc9460ec44206407f41c/src/shrine/uploaded_file.cr#L180","def":{"name":"url","args":[],"double_splat":{"name":"options","doc":null,"default_value":"","external_name":"options","restriction":""},"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"storage.url(id, options)"}}],"macros":[],"types":[{"html_id":"github.com/jetrockets/shrine.cr/Shrine/UploadedFile/Metadata","path":"Shrine/UploadedFile/Metadata.html","kind":"class","full_name":"Shrine::UploadedFile::Metadata","name":"Metadata","abstract":false,"superclass":{"html_id":"github.com/jetrockets/shrine.cr/Reference","kind":"class","full_name":"Reference","name":"Reference"},"ancestors":[{"html_id":"github.com/jetrockets/shrine.cr/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"github.com/jetrockets/shrine.cr/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"shrine/uploaded_file.cr","line_number":7,"url":"https://github.com/jetrockets/shrine.cr/blob/dfd7f05a9ee92ca80345bc9460ec44206407f41c/src/shrine/uploaded_file.cr"}],"repository_name":"github.com/jetrockets/shrine.cr","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"github.com/jetrockets/shrine.cr/Shrine/UploadedFile","kind":"class","full_name":"Shrine::UploadedFile","name":"UploadedFile"},"doc":null,"summary":null,"class_methods":[],"constructors":[{"id":"new(__temp_27:JSON::PullParser)-class-method","html_id":"new(__temp_27:JSON::PullParser)-class-method","name":"new","doc":null,"summary":null,"abstract":false,"args":[{"name":"__temp_27","doc":null,"default_value":"","external_name":"__temp_27","restriction":"::JSON::PullParser"}],"args_string":"(__temp_27 : JSON::PullParser)","source_link":null,"def":{"name":"new","args":[{"name":"__temp_27","doc":null,"default_value":"","external_name":"__temp_27","restriction":"::JSON::PullParser"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"_ = allocate\n_.initialize(__temp_27)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}},{"id":"new(data:NamedTuple)-class-method","html_id":"new(data:NamedTuple)-class-method","name":"new","doc":null,"summary":null,"abstract":false,"args":[{"name":"data","doc":null,"default_value":"","external_name":"data","restriction":"NamedTuple"}],"args_string":"(data : NamedTuple)","source_link":"https://github.com/jetrockets/shrine.cr/blob/dfd7f05a9ee92ca80345bc9460ec44206407f41c/src/shrine/uploaded_file.cr#L16","def":{"name":"new","args":[{"name":"data","doc":null,"default_value":"","external_name":"data","restriction":"NamedTuple"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"_ = allocate\n_.initialize(data)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}},{"id":"new-class-method","html_id":"new-class-method","name":"new","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/jetrockets/shrine.cr/blob/dfd7f05a9ee92ca80345bc9460ec44206407f41c/src/shrine/uploaded_file.cr#L14","def":{"name":"new","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"_ = allocate\n_.initialize\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}}],"instance_methods":[{"id":"data-instance-method","html_id":"data-instance-method","name":"data","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/jetrockets/shrine.cr/blob/dfd7f05a9ee92ca80345bc9460ec44206407f41c/src/shrine/uploaded_file.cr#L22","def":{"name":"data","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"{size: size, mime_type: mime_type, filename: filename}"}},{"id":"filename:String?-instance-method","html_id":"filename:String?-instance-method","name":"filename","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : String?","source_link":null,"def":{"name":"filename","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"String | ::Nil","visibility":"Public","body":"@filename"}},{"id":"filename=(_filename:String?)-instance-method","html_id":"filename=(_filename:String?)-instance-method","name":"filename=","doc":null,"summary":null,"abstract":false,"args":[{"name":"_filename","doc":null,"default_value":"","external_name":"_filename","restriction":"String | ::Nil"}],"args_string":"(_filename : String?)","source_link":null,"def":{"name":"filename=","args":[{"name":"_filename","doc":null,"default_value":"","external_name":"_filename","restriction":"String | ::Nil"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@filename = _filename"}},{"id":"mime_type:String?-instance-method","html_id":"mime_type:String?-instance-method","name":"mime_type","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : String?","source_link":null,"def":{"name":"mime_type","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"String | ::Nil","visibility":"Public","body":"@mime_type"}},{"id":"mime_type=(_mime_type:String?)-instance-method","html_id":"mime_type=(_mime_type:String?)-instance-method","name":"mime_type=","doc":null,"summary":null,"abstract":false,"args":[{"name":"_mime_type","doc":null,"default_value":"","external_name":"_mime_type","restriction":"String | ::Nil"}],"args_string":"(_mime_type : String?)","source_link":null,"def":{"name":"mime_type=","args":[{"name":"_mime_type","doc":null,"default_value":"","external_name":"_mime_type","restriction":"String | ::Nil"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@mime_type = _mime_type"}},{"id":"size:UInt64?-instance-method","html_id":"size:UInt64?-instance-method","name":"size","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : UInt64?","source_link":null,"def":{"name":"size","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"UInt64 | ::Nil","visibility":"Public","body":"@size"}},{"id":"size=(_size:UInt64?)-instance-method","html_id":"size=(_size:UInt64?)-instance-method","name":"size=","doc":null,"summary":null,"abstract":false,"args":[{"name":"_size","doc":null,"default_value":"","external_name":"_size","restriction":"UInt64 | ::Nil"}],"args_string":"(_size : UInt64?)","source_link":null,"def":{"name":"size=","args":[{"name":"_size","doc":null,"default_value":"","external_name":"_size","restriction":"UInt64 | ::Nil"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@size = _size"}},{"id":"to_json(json:JSON::Builder)-instance-method","html_id":"to_json(json:JSON::Builder)-instance-method","name":"to_json","doc":null,"summary":null,"abstract":false,"args":[{"name":"json","doc":null,"default_value":"","external_name":"json","restriction":"::JSON::Builder"}],"args_string":"(json : JSON::Builder)","source_link":null,"def":{"name":"to_json","args":[{"name":"json","doc":null,"default_value":"","external_name":"json","restriction":"::JSON::Builder"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"json.object do\n  _size = @size\n  json.field(\"size\") do\n    _size.to_json(json)\n  end\n  _mime_type = @mime_type\n  json.field(\"mime_type\") do\n    _mime_type.to_json(json)\n  end\n  _filename = @filename\n  json.field(\"filename\") do\n    _filename.to_json(json)\n  end\nend"}}],"macros":[],"types":[]}]}]}]}})